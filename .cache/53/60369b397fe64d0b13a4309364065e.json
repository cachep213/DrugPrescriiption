{"id":"pdJf","dependencies":[{"name":"D:\\Onedrive\\Block\\3_Hakathon\\DrugPrescriiption\\package.json","includedInParent":true,"mtime":1604297038892},{"name":"D:\\Onedrive\\Block\\3_Hakathon\\DrugPrescriiption\\node_modules\\ipfs-http-client\\package.json","includedInParent":true,"mtime":1604296182155},{"name":"ipld-dag-pb","loc":{"line":3,"column":22},"parent":"D:\\Onedrive\\Block\\3_Hakathon\\DrugPrescriiption\\node_modules\\ipfs-http-client\\src\\dag\\put.js","resolved":"D:\\Onedrive\\Block\\3_Hakathon\\DrugPrescriiption\\node_modules\\ipld-dag-pb\\src\\index.js"},{"name":"ipld-dag-cbor","loc":{"line":4,"column":24},"parent":"D:\\Onedrive\\Block\\3_Hakathon\\DrugPrescriiption\\node_modules\\ipfs-http-client\\src\\dag\\put.js","resolved":"D:\\Onedrive\\Block\\3_Hakathon\\DrugPrescriiption\\node_modules\\ipld-dag-cbor\\src\\index.js"},{"name":"promisify-es6","loc":{"line":5,"column":26},"parent":"D:\\Onedrive\\Block\\3_Hakathon\\DrugPrescriiption\\node_modules\\ipfs-http-client\\src\\dag\\put.js","resolved":"D:\\Onedrive\\Block\\3_Hakathon\\DrugPrescriiption\\node_modules\\promisify-es6\\index.js"},{"name":"cids","loc":{"line":6,"column":20},"parent":"D:\\Onedrive\\Block\\3_Hakathon\\DrugPrescriiption\\node_modules\\ipfs-http-client\\src\\dag\\put.js","resolved":"D:\\Onedrive\\Block\\3_Hakathon\\DrugPrescriiption\\node_modules\\cids\\src\\index.js"},{"name":"multihashes","loc":{"line":7,"column":26},"parent":"D:\\Onedrive\\Block\\3_Hakathon\\DrugPrescriiption\\node_modules\\ipfs-http-client\\src\\dag\\put.js","resolved":"D:\\Onedrive\\Block\\3_Hakathon\\DrugPrescriiption\\node_modules\\multihashes\\src\\index.js"},{"name":"../utils/send-one-file","loc":{"line":8,"column":28},"parent":"D:\\Onedrive\\Block\\3_Hakathon\\DrugPrescriiption\\node_modules\\ipfs-http-client\\src\\dag\\put.js","resolved":"D:\\Onedrive\\Block\\3_Hakathon\\DrugPrescriiption\\node_modules\\ipfs-http-client\\src\\utils\\send-one-file.js"}],"generated":{"js":"\"use strict\";const e=require(\"ipld-dag-pb\"),r=require(\"ipld-dag-cbor\"),t=require(\"promisify-es6\"),a=require(\"cids\"),i=require(\"multihashes\"),s=require(\"../utils/send-one-file\");module.exports=(o=>{const h=s(o,\"dag/put\");return t((t,s,o)=>{if(\"function\"==typeof s&&(o=s),(s=s||{}).hash&&(s.hashAlg=s.hash,delete s.hash),s.cid&&(s.format||s.hashAlg))return o(new Error(\"Can't put dag node. Please provide either `cid` OR `format` and `hash` options.\"));if(s.format&&!s.hashAlg||!s.format&&s.hashAlg)return o(new Error(\"Can't put dag node. Please provide `format` AND `hash` options.\"));if(s.cid){let e;try{e=new a(s.cid)}catch(l){return o(l)}s.format=e.codec,s.hashAlg=i.decode(e.multihash).name,delete s.cid}let n;s=Object.assign({format:\"dag-cbor\",hashAlg:\"sha2-256\",inputEnc:\"raw\"},s);try{n=\"dag-cbor\"===s.format?r.util.serialize(t):\"dag-pb\"===s.format?e.util.serialize(t):t}catch(l){return o(l)}const d={qs:{hash:s.hashAlg,format:s.format,\"input-enc\":s.inputEnc}};h(n,d,(e,r)=>e?o(e):r.Cid?o(null,new a(r.Cid[\"/\"])):o(r))})});"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"dagPB","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"require","original":{"line":3,"column":14},"generated":{"line":1,"column":21}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":3,"column":22},"generated":{"line":1,"column":29}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"dagCBOR","original":{"line":4,"column":6},"generated":{"line":1,"column":44}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"require","original":{"line":4,"column":16},"generated":{"line":1,"column":46}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":4,"column":24},"generated":{"line":1,"column":54}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"promisify","original":{"line":5,"column":6},"generated":{"line":1,"column":71}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"require","original":{"line":5,"column":18},"generated":{"line":1,"column":73}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":5,"column":26},"generated":{"line":1,"column":81}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"CID","original":{"line":6,"column":6},"generated":{"line":1,"column":98}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"require","original":{"line":6,"column":12},"generated":{"line":1,"column":100}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":6,"column":20},"generated":{"line":1,"column":108}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"multihash","original":{"line":7,"column":6},"generated":{"line":1,"column":116}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"require","original":{"line":7,"column":18},"generated":{"line":1,"column":118}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":7,"column":26},"generated":{"line":1,"column":126}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"SendOneFile","original":{"line":8,"column":6},"generated":{"line":1,"column":141}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"require","original":{"line":8,"column":20},"generated":{"line":1,"column":143}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":8,"column":28},"generated":{"line":1,"column":151}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"module","original":{"line":10,"column":0},"generated":{"line":1,"column":177}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"exports","original":{"line":10,"column":7},"generated":{"line":1,"column":184}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"send","original":{"line":10,"column":18},"generated":{"line":1,"column":192}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"send","original":{"line":10,"column":18},"generated":{"line":1,"column":193}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"sendOneFile","original":{"line":11,"column":8},"generated":{"line":1,"column":197}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"sendOneFile","original":{"line":11,"column":8},"generated":{"line":1,"column":203}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"SendOneFile","original":{"line":11,"column":22},"generated":{"line":1,"column":205}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"send","original":{"line":11,"column":34},"generated":{"line":1,"column":207}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":11,"column":40},"generated":{"line":1,"column":209}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"promisify","original":{"line":13,"column":9},"generated":{"line":1,"column":220}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"promisify","original":{"line":13,"column":9},"generated":{"line":1,"column":227}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":13,"column":19},"generated":{"line":1,"column":229}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"dagNode","original":{"line":13,"column":20},"generated":{"line":1,"column":230}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":13,"column":29},"generated":{"line":1,"column":232}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"callback","original":{"line":13,"column":38},"generated":{"line":1,"column":234}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":25,"column":8},"generated":{"line":1,"column":239}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":14,"column":27},"generated":{"line":1,"column":242}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":14,"column":15},"generated":{"line":1,"column":261}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"callback","original":{"line":15,"column":6},"generated":{"line":1,"column":265}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":15,"column":17},"generated":{"line":1,"column":267}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":18,"column":4},"generated":{"line":1,"column":271}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":18,"column":14},"generated":{"line":1,"column":273}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":18,"column":25},"generated":{"line":1,"column":276}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"hash","original":{"line":20,"column":16},"generated":{"line":1,"column":280}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":21,"column":6},"generated":{"line":1,"column":287}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"hashAlg","original":{"line":21,"column":14},"generated":{"line":1,"column":289}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":21,"column":24},"generated":{"line":1,"column":297}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"hash","original":{"line":21,"column":32},"generated":{"line":1,"column":299}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":22,"column":13},"generated":{"line":1,"column":311}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"hash","original":{"line":22,"column":21},"generated":{"line":1,"column":313}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":25,"column":8},"generated":{"line":1,"column":319}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"cid","original":{"line":25,"column":16},"generated":{"line":1,"column":321}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":25,"column":24},"generated":{"line":1,"column":327}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"format","original":{"line":25,"column":32},"generated":{"line":1,"column":329}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":25,"column":42},"generated":{"line":1,"column":337}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"hashAlg","original":{"line":25,"column":50},"generated":{"line":1,"column":339}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"callback","original":{"line":26,"column":13},"generated":{"line":1,"column":348}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"callback","original":{"line":26,"column":13},"generated":{"line":1,"column":355}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":26,"column":22},"generated":{"line":1,"column":357}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"Error","original":{"line":26,"column":26},"generated":{"line":1,"column":361}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":26,"column":32},"generated":{"line":1,"column":367}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":27,"column":11},"generated":{"line":1,"column":451}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":27,"column":16},"generated":{"line":1,"column":454}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"format","original":{"line":27,"column":24},"generated":{"line":1,"column":456}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":27,"column":35},"generated":{"line":1,"column":465}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"hashAlg","original":{"line":27,"column":43},"generated":{"line":1,"column":467}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":27,"column":57},"generated":{"line":1,"column":477}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"format","original":{"line":27,"column":65},"generated":{"line":1,"column":479}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":27,"column":75},"generated":{"line":1,"column":487}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"hashAlg","original":{"line":27,"column":83},"generated":{"line":1,"column":489}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"callback","original":{"line":28,"column":13},"generated":{"line":1,"column":497}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"callback","original":{"line":28,"column":13},"generated":{"line":1,"column":504}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":28,"column":22},"generated":{"line":1,"column":506}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"Error","original":{"line":28,"column":26},"generated":{"line":1,"column":510}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":28,"column":32},"generated":{"line":1,"column":516}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":31,"column":8},"generated":{"line":1,"column":584}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":31,"column":8},"generated":{"line":1,"column":587}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"cid","original":{"line":31,"column":16},"generated":{"line":1,"column":589}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":31,"column":21},"generated":{"line":1,"column":593}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"cid","original":{"line":32,"column":10},"generated":{"line":1,"column":594}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"cid","original":{"line":32,"column":10},"generated":{"line":1,"column":598}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":34,"column":10},"generated":{"line":1,"column":600}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"cid","original":{"line":35,"column":8},"generated":{"line":1,"column":604}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":35,"column":14},"generated":{"line":1,"column":606}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"CID","original":{"line":35,"column":18},"generated":{"line":1,"column":610}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":35,"column":22},"generated":{"line":1,"column":612}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"cid","original":{"line":35,"column":30},"generated":{"line":1,"column":614}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":36,"column":8},"generated":{"line":1,"column":619}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"err","original":{"line":36,"column":15},"generated":{"line":1,"column":625}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"callback","original":{"line":37,"column":15},"generated":{"line":1,"column":628}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"callback","original":{"line":37,"column":15},"generated":{"line":1,"column":635}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"err","original":{"line":37,"column":24},"generated":{"line":1,"column":637}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":40,"column":6},"generated":{"line":1,"column":640}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"format","original":{"line":40,"column":14},"generated":{"line":1,"column":642}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"cid","original":{"line":40,"column":23},"generated":{"line":1,"column":649}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"codec","original":{"line":40,"column":27},"generated":{"line":1,"column":651}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":41,"column":6},"generated":{"line":1,"column":657}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"hashAlg","original":{"line":41,"column":14},"generated":{"line":1,"column":659}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"multihash","original":{"line":41,"column":24},"generated":{"line":1,"column":667}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"decode","original":{"line":41,"column":34},"generated":{"line":1,"column":669}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"cid","original":{"line":41,"column":41},"generated":{"line":1,"column":676}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"multihash","original":{"line":41,"column":45},"generated":{"line":1,"column":678}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"name","original":{"line":41,"column":56},"generated":{"line":1,"column":689}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":42,"column":13},"generated":{"line":1,"column":701}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"cid","original":{"line":42,"column":21},"generated":{"line":1,"column":703}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"serialized","original":{"line":53,"column":8},"generated":{"line":1,"column":707}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"serialized","original":{"line":53,"column":8},"generated":{"line":1,"column":711}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":51,"column":4},"generated":{"line":1,"column":713}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"Object","original":{"line":51,"column":14},"generated":{"line":1,"column":715}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"assign","original":{"line":51,"column":21},"generated":{"line":1,"column":722}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":45,"column":27},"generated":{"line":1,"column":729}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"format","original":{"line":46,"column":6},"generated":{"line":1,"column":730}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":46,"column":14},"generated":{"line":1,"column":737}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"hashAlg","original":{"line":47,"column":6},"generated":{"line":1,"column":748}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":47,"column":15},"generated":{"line":1,"column":756}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"inputEnc","original":{"line":48,"column":6},"generated":{"line":1,"column":767}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":48,"column":16},"generated":{"line":1,"column":776}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":51,"column":44},"generated":{"line":1,"column":783}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":55,"column":8},"generated":{"line":1,"column":786}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"serialized","original":{"line":57,"column":8},"generated":{"line":1,"column":790}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":56,"column":29},"generated":{"line":1,"column":792}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":56,"column":10},"generated":{"line":1,"column":805}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"format","original":{"line":56,"column":18},"generated":{"line":1,"column":807}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"dagCBOR","original":{"line":57,"column":21},"generated":{"line":1,"column":814}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"util","original":{"line":57,"column":29},"generated":{"line":1,"column":816}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"serialize","original":{"line":57,"column":34},"generated":{"line":1,"column":821}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"dagNode","original":{"line":57,"column":44},"generated":{"line":1,"column":831}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":58,"column":36},"generated":{"line":1,"column":834}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":58,"column":17},"generated":{"line":1,"column":845}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"format","original":{"line":58,"column":25},"generated":{"line":1,"column":847}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"dagPB","original":{"line":59,"column":21},"generated":{"line":1,"column":854}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"util","original":{"line":59,"column":27},"generated":{"line":1,"column":856}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"serialize","original":{"line":59,"column":32},"generated":{"line":1,"column":861}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"dagNode","original":{"line":59,"column":42},"generated":{"line":1,"column":871}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"dagNode","original":{"line":62,"column":21},"generated":{"line":1,"column":874}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":64,"column":6},"generated":{"line":1,"column":876}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"err","original":{"line":64,"column":13},"generated":{"line":1,"column":882}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"callback","original":{"line":65,"column":13},"generated":{"line":1,"column":885}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"callback","original":{"line":65,"column":13},"generated":{"line":1,"column":892}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"err","original":{"line":65,"column":22},"generated":{"line":1,"column":894}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"sendOptions","original":{"line":68,"column":10},"generated":{"line":1,"column":897}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"sendOptions","original":{"line":68,"column":10},"generated":{"line":1,"column":903}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":68,"column":24},"generated":{"line":1,"column":905}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"qs","original":{"line":69,"column":6},"generated":{"line":1,"column":906}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":69,"column":10},"generated":{"line":1,"column":909}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"hash","original":{"line":70,"column":8},"generated":{"line":1,"column":910}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":70,"column":14},"generated":{"line":1,"column":915}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"hashAlg","original":{"line":70,"column":22},"generated":{"line":1,"column":917}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"format","original":{"line":71,"column":8},"generated":{"line":1,"column":925}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":71,"column":16},"generated":{"line":1,"column":932}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"format","original":{"line":71,"column":24},"generated":{"line":1,"column":934}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":72,"column":21},"generated":{"line":1,"column":941}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"options","original":{"line":72,"column":21},"generated":{"line":1,"column":953}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"inputEnc","original":{"line":72,"column":29},"generated":{"line":1,"column":955}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"sendOneFile","original":{"line":76,"column":4},"generated":{"line":1,"column":966}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"serialized","original":{"line":76,"column":16},"generated":{"line":1,"column":968}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"sendOptions","original":{"line":76,"column":28},"generated":{"line":1,"column":970}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":76,"column":41},"generated":{"line":1,"column":972}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"err","original":{"line":76,"column":42},"generated":{"line":1,"column":973}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"result","original":{"line":76,"column":47},"generated":{"line":1,"column":975}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"err","original":{"line":77,"column":10},"generated":{"line":1,"column":979}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"callback","original":{"line":78,"column":15},"generated":{"line":1,"column":981}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"err","original":{"line":78,"column":24},"generated":{"line":1,"column":983}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"result","original":{"line":80,"column":10},"generated":{"line":1,"column":986}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":80,"column":16},"generated":{"line":1,"column":988}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"callback","original":{"line":81,"column":15},"generated":{"line":1,"column":992}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":81,"column":24},"generated":{"line":1,"column":994}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":81,"column":30},"generated":{"line":1,"column":999}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"CID","original":{"line":81,"column":34},"generated":{"line":1,"column":1003}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"result","original":{"line":81,"column":38},"generated":{"line":1,"column":1005}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":81,"column":44},"generated":{"line":1,"column":1007}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","original":{"line":81,"column":52},"generated":{"line":1,"column":1011}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"callback","original":{"line":83,"column":15},"generated":{"line":1,"column":1018}},{"source":"../node_modules/ipfs-http-client/src/dag/put.js","name":"result","original":{"line":83,"column":24},"generated":{"line":1,"column":1020}}],"sources":{"../node_modules/ipfs-http-client/src/dag/put.js":"'use strict'\n\nconst dagPB = require('ipld-dag-pb')\nconst dagCBOR = require('ipld-dag-cbor')\nconst promisify = require('promisify-es6')\nconst CID = require('cids')\nconst multihash = require('multihashes')\nconst SendOneFile = require('../utils/send-one-file')\n\nmodule.exports = (send) => {\n  const sendOneFile = SendOneFile(send, 'dag/put')\n\n  return promisify((dagNode, options, callback) => {\n    if (typeof options === 'function') {\n      callback = options\n    }\n\n    options = options || {}\n\n    if (options.hash) {\n      options.hashAlg = options.hash\n      delete options.hash\n    }\n\n    if (options.cid && (options.format || options.hashAlg)) {\n      return callback(new Error('Can\\'t put dag node. Please provide either `cid` OR `format` and `hash` options.'))\n    } else if ((options.format && !options.hashAlg) || (!options.format && options.hashAlg)) {\n      return callback(new Error('Can\\'t put dag node. Please provide `format` AND `hash` options.'))\n    }\n\n    if (options.cid) {\n      let cid\n\n      try {\n        cid = new CID(options.cid)\n      } catch (err) {\n        return callback(err)\n      }\n\n      options.format = cid.codec\n      options.hashAlg = multihash.decode(cid.multihash).name\n      delete options.cid\n    }\n\n    const optionDefaults = {\n      format: 'dag-cbor',\n      hashAlg: 'sha2-256',\n      inputEnc: 'raw'\n    }\n\n    options = Object.assign(optionDefaults, options)\n\n    let serialized\n\n    try {\n      if (options.format === 'dag-cbor') {\n        serialized = dagCBOR.util.serialize(dagNode)\n      } else if (options.format === 'dag-pb') {\n        serialized = dagPB.util.serialize(dagNode)\n      } else {\n        // FIXME Hopefully already serialized...can we use IPLD to serialise instead?\n        serialized = dagNode\n      }\n    } catch (err) {\n      return callback(err)\n    }\n\n    const sendOptions = {\n      qs: {\n        hash: options.hashAlg,\n        format: options.format,\n        'input-enc': options.inputEnc\n      }\n    }\n\n    sendOneFile(serialized, sendOptions, (err, result) => {\n      if (err) {\n        return callback(err)\n      }\n      if (result['Cid']) {\n        return callback(null, new CID(result['Cid']['/']))\n      } else {\n        return callback(result)\n      }\n    })\n  })\n}\n"},"lineCount":null}},"error":null,"hash":"30d702a82bd33f7784528a6ee760ac30","cacheData":{"env":{}}}